{"ast":null,"code":"var _jsxFileName = \"/home/dev/Desktop/Easyfarming/frontend/src/user/Profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = ({\n  match\n}) => {\n  _s();\n\n  const [values, setValues] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    location: \"\",\n    error: false,\n    success: false\n  });\n  const {\n    token\n  } = isAuthenticated();\n  const {\n    name,\n    email,\n    password,\n    location,\n    error,\n    success\n  } = values;\n\n  const init = userId => {\n    // console.log(userId);\n    read(userId, token).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: true\n        });\n      } else {\n        setValues({ ...values,\n          name: data.name,\n          email: data.email\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    init(match.params.userId);\n  }, []);\n\n  const handleChange = name => e => {\n    setValues({ ...values,\n      error: false,\n      [name]: e.target.value\n    });\n  };\n\n  const clickSubmit = e => {\n    e.preventDefault();\n    update(match.params.userId, token, {\n      name,\n      email,\n      password,\n      location\n    }).then(data => {\n      if (data.error) {\n        console.lgo(data.error);\n      } else {\n        updateUser(data, () => {\n          setValues({ ...values,\n            name: data.name,\n            email: data.email,\n            success: true\n          });\n        });\n      }\n    });\n  };\n\n  const profileUpdate = (name, email, password, location) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-wrapper-up\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-inner-up\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Update Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange(\"name\"),\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Name\",\n            value: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange(\"email\"),\n            type: \"email\",\n            className: \"form-control\",\n            placeholder: \"Enter email\",\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange(\"password\"),\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Enter password\",\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: handleChange(\"location\"),\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"location\",\n            value: location\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: clickSubmit,\n          className: \"btn btn-secondary btn-lg btn-block\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    title: \" \",\n    description: \" \",\n    className: \"container-fluid\",\n    children: profileUpdate(name, email, password, location)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"LaOtY3ChaMv1D31lOZ94lZNJdIA=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/home/dev/Desktop/Easyfarming/frontend/src/user/Profile.js"],"names":["React","useState","useEffect","Layout","isAuthenticated","Link","read","update","updateUser","Profile","match","values","setValues","name","email","password","location","error","success","token","init","userId","then","data","params","handleChange","e","target","value","clickSubmit","preventDefault","console","lgo","profileUpdate"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\n\nconst Profile = ({ match }) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        location:\"\",\n        error: false,\n        success: false\n    });\n\n    const { token } = isAuthenticated();\n    const { name, email, password, location, error, success } = values;\n\n    const init = userId => {\n        // console.log(userId);\n        read(userId, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: true });\n            } else {\n                setValues({ ...values, name: data.name, email: data.email });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.userId);\n    }, []);\n\n    const handleChange = name => e => {\n        setValues({ ...values, error: false, [name]: e.target.value });\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        update(match.params.userId, token, { name, email, password, location }).then(\n            data => {\n                if (data.error) {\n                    console.lgo(data.error);\n                } else {\n                    updateUser(data, () => {\n                        setValues({\n                            ...values,\n                            name: data.name,\n                            email: data.email,\n                            success: true\n                        });\n                    });\n                }\n            }\n        );\n    };\n\n    const profileUpdate = (name, email, password, location) => (\n        <div className=\"auth-wrapper-up\">\n            <div className=\"auth-inner-up\">\n                <form>\n                    <h3>Update Profile</h3>\n                    <div className=\"form-group\">\n                        <label >Name</label>\n                        <input\n                            onChange={handleChange(\"name\")}\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Name\" \n                            value={name}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label >Email</label>\n                        <input\n                            onChange={handleChange(\"email\")}\n                            type=\"email\"\n                            className=\"form-control\"\n                            placeholder=\"Enter email\"\n                            value={email}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Password</label>\n                        <input\n                            onChange={handleChange(\"password\")}\n                            type=\"password\"\n                            className=\"form-control\"\n                            placeholder=\"Enter password\"\n                            value={password}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label >Location</label>\n                        <input\n                            onChange={handleChange(\"location\")}\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"location\" \n                            value={location}\n                        />\n                    </div>\n                    <button onClick={clickSubmit} className=\"btn btn-secondary btn-lg btn-block\">Submit</button>\n                </form>\n            </div>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\" \"\n            description=\" \"\n            className=\"container-fluid\"\n        >\n            \n            {profileUpdate(name, email, password, location)}\n        </Layout>\n    );\n};\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}